# CTF Basic Pentesting
- TryHackMe Room: https://tryhackme.com/room/basicpentestingjt
- IP Machine: 10.10.71.212

## Nmap Report
- Baris perintah: `nmap -sV -A <IP Machine>`

```sh
┌──(root㉿kali)-[/home/kali]
└─# nmap -sV -A 10.10.71.212             
Starting Nmap 7.93 ( https://nmap.org ) at 2023-07-28 19:52 EDT
Nmap scan report for 10.10.71.212
Host is up (0.20s latency).
Not shown: 994 closed tcp ports (reset)
PORT     STATE SERVICE     VERSION
22/tcp   open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 db45cbbe4a8b71f8e93142aefff845e4 (RSA)
|   256 09b9b91ce0bf0e1c6f7ffe8e5f201bce (ECDSA)
|_  256 a5682b225f984a62213da2e2c5a9f7c2 (ED25519)
80/tcp   open  http        Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Site doesn't have a title (text/html).
139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp  open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)
8009/tcp open  ajp13       Apache Jserv (Protocol v1.3)
| ajp-methods: 
|_  Supported methods: GET HEAD POST OPTIONS
8080/tcp open  http        Apache Tomcat 9.0.7
|_http-title: Apache Tomcat/9.0.7
|_http-favicon: Apache Tomcat
No exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).
TCP/IP fingerprint:
OS:SCAN(V=7.93%E=4%D=7/28%OT=22%CT=1%CU=42337%PV=Y%DS=2%DC=T%G=Y%TM=64C454E
OS:2%P=x86_64-pc-linux-gnu)SEQ(SP=105%GCD=1%ISR=10C%TI=Z%CI=I%II=I%TS=8)SEQ
OS:(SP=105%GCD=1%ISR=10C%TI=Z%II=I%TS=8)OPS(O1=M508ST11NW7%O2=M508ST11NW7%O
OS:3=M508NNT11NW7%O4=M508ST11NW7%O5=M508ST11NW7%O6=M508ST11)WIN(W1=68DF%W2=
OS:68DF%W3=68DF%W4=68DF%W5=68DF%W6=68DF)ECN(R=Y%DF=Y%T=40%W=6903%O=M508NNSN
OS:W7%CC=Y%Q=)T1(R=Y%DF=Y%T=40%S=O%A=S+%F=AS%RD=0%Q=)T2(R=N)T3(R=N)T4(R=Y%D
OS:F=Y%T=40%W=0%S=A%A=Z%F=R%O=%RD=0%Q=)T5(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O
OS:=%RD=0%Q=)T6(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F=R%O=%RD=0%Q=)T7(R=Y%DF=Y%T=40%W
OS:=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)U1(R=Y%DF=N%T=40%IPL=164%UN=0%RIPL=G%RID=G%R
OS:IPCK=G%RUCK=G%RUD=G)IE(R=Y%DFI=N%T=40%CD=S)

Network Distance: 2 hops
Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
| smb-os-discovery: 
|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)
|   Computer name: basic2
|   NetBIOS computer name: BASIC2\x00
|   Domain name: \x00
|   FQDN: basic2
|_  System time: 2023-07-28T19:53:01-04:00
| smb2-time: 
|   date: 2023-07-28T23:53:01
|_  start_date: N/A
|_clock-skew: mean: 1h20m01s, deviation: 2h18m34s, median: 0s
|_nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: 000000000000 (Xerox)
| smb2-security-mode: 
|   311: 
|_    Message signing enabled but not required
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: disabled (dangerous, but default)

TRACEROUTE (using port 80/tcp)
HOP RTT       ADDRESS
1   207.38 ms 10.8.0.1
2   207.68 ms 10.10.71.212

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 39.86 seconds
```

## Gobuster Report
- Baris perintah: `gobuster dir -u http://<IP Machine> -w /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-medium.txt`

- Buka halaman http://<IP Machine>/development di browser, setelah itu buka file **dev.txt** dan **j.txt**

- Isi file dev.txt

- Isi file j.txt

- Dari informasi diatas diketahui bahwa:
	* Ada 2 user dengan inisial J dan K
	* User dengan inisial J memiliki password yang lemah
	* Mesin menggunakan service SMB (Samba)
	* Mesin menggunakan web server Apache versi 2.5.12

## Enum4linux
- Baris perintah: `enum4linux -a <IP Machine>`
- Dari hasil enumerasi diketahui bahwa, 2 user yang dimaksud adalah **jan** dan **kay**

## Brute force
- Dikarenakan jay memiliki password yang lemah dan machine memiliki service SSH maka kita memutuskan untuk melakukan brute force dengan hydra
- Brute force akun SSH jay dengan hydra. Baris perintah:  `hydra -l jan -P /usr/share/wordlists/rockyou.txt <IP Machine> ssh`

## Gaining Access
- Akses SSH dengan user jan. Baris perintah: `ssh jan@<IP Machine>`
- Setelah berhasil masuk kita berada di directory /home/jan. Navigasi ke directory /home dan disana ditemukan home directory kay 
- Navigasi ke directory /home/kay dan disana ditemukan file pass.bak dan directory .ssh
- Kita tidak bisa membaca isi file pass.bak


**Pertanyaan:** What is the name of the hidden directory on the web server(enter name without /)?
**Jawaban:** jawaban bisa dilihat di Gobuster Report
```sh
development
```

**Pertanyaan:** What is the username?
**Jawaban:** Nama user yang di brute force
```sh
jan
```